AUTOSetThickness = [[[  5,  5,  8, 12, 15, 17, 18, 20, 24, 28, 33, 39, 41, 42, 44, 45, 47, 48, 50, 56, 64, 72, 80, 90,100], 
[ 10, 10, 12, 21, 27, 33, 40, 45, 50, 55, 60, 70, 80, 90,100,105,111,116,122,129,136,143,150,155,160], 
[ 10, 12, 16, 30, 36, 43, 52, 57, 75, 85, 91, 97,107,122,148,174,200,200,200,200,200,200,200,200,200], 
[ 10, 20, 32, 60, 96,127,164,200,250,250,250,250,250,250,250,250,250,250,250,250,250,250,250,250,250]],
[[  5,  6,  7, 11, 13, 15, 18, 21, 24, 27, 30, 33, 36, 40, 46, 53, 60, 63, 66, 70, 73, 76, 80, 90,100], 
[  5,  6, 10, 15, 20, 26, 33, 40, 46, 52, 57, 66, 80, 93,102,108,114,120,126,132,138,144,150,155,160], 
[  5,  7, 13, 20, 30, 40, 50, 65, 80, 95,110,120,130,136,143,150,166,183,200,212,225,237,250,250,250], 
[ 10, 15, 32, 50, 80,120,160,180,200,210,220,232,244,250,250,250,250,250,250,250,250,250,250,250,250]],
[[  5,  5,  6,  8, 11, 15, 17, 20, 23, 27, 31, 35, 40, 45, 50, 52, 55, 58, 64, 73, 82, 91,100,105,110], 
[  6,  6, 10, 15, 19, 25, 31, 40, 46, 53, 60, 65, 70, 75, 80, 85, 90, 95,100,105,110,115,120,125,130], 
[  6,  7, 13, 20, 26, 32, 37, 43, 51, 60, 70, 80, 90,100,125,150,166,183,200,200,200,200,200,200,200],   
[  8, 10, 24, 38, 52, 70,100,120,139,160,180,200,200,200,200,200,200,200,200,200,200,200,200,200,200]],
[[  5,  5,  6,  8,  9, 11, 13, 16, 18, 21, 24, 27, 30, 33, 36, 40, 43, 46, 50, 57, 65, 72, 80, 85, 95], 
[  5,  6,  8, 11, 15, 17, 20, 25, 30, 33, 36, 40, 46, 53, 60, 65, 70, 74, 80, 85, 90, 95,100,105,110], 
[  5,  6,  9, 13, 20, 27, 33, 37, 45, 55, 64, 75, 84, 93,102,111,120,160,200,212,225,237,250,250,250], 
[  8,  9, 17, 27, 36, 47, 63, 78, 93,123,161,200,238,250,250,250,250,250,250,250,250,250,250,250,250]],
[[  5,  6,  8,  9, 10, 12, 15, 16, 17, 18, 20, 21, 22, 23, 24, 25, 25, 26, 27, 27, 28, 29, 30, 31, 32],  
[  5,  6,  8,  9, 10, 12, 14, 16, 18, 20, 23, 27, 30, 35, 40, 45, 50, 55, 60, 65, 70, 75, 80, 85, 90],  
[  5,  6,  8, 11, 15, 18, 24, 31, 37, 45, 57, 68, 80, 86, 93,100,102,105,108,111,114,117,120,125,130], 
[  5,  6,  8, 11, 15, 18, 24, 31, 37, 45, 57, 68, 80, 86, 93,100,102,105,108,111,114,117,120,125,130]]]

    
SetVoltage = [[[135,145,160,172,180,188,196,210,220,230,235,240,250,265,275,280,285,290,295,300,305,310,315,320,330], 
[135,150,170,185,195,205,215,230,240,250,265,275,285,290,300,310,315,325,330,345,355,360,365,375,385], 
[135,160,185,205,225,235,245,260,275,285,300,310,320,330,340,350,360,370,380,390,400,410,420,430,440], 
[135,170,220,235,255,285,310,320,330,345,360,385,400,415,430,440,450,460,470,475,480,485,490,495,500]],
[[135,142,155,165,170,175,180,183,185,190,195,207,218,230,235,255,260,265,270,275,280,285,290,295,300], 
[135,150,180,195,200,213,225,245,255,265,280,290,305,310,318,328,333,343,353,365,375,380,390,400,415], 
[135,160,185,205,225,235,245,260,275,285,300,310,320,325,330,335,340,345,350,355,360,365,370,385,400], 
[135,170,200,225,245,270,280,295,310,325,345,360,370,385,400,410,415,420,425,430,435,440,445,450,455]],
[[100,140,155,165,170,175,180,183,185,190,195,205,215,230,235,255,260,265,270,275,280,285,290,295,300], 
[100,135,140,150,155,158,165,170,180,185,190,195,200,205,210,220,228,235,242,254,255,258,265,270,275], 
[100,140,150,155,160,165,175,180,185,190,195,200,210,220,230,240,260,282,284,286,288,290,293,296,300],
[100,140,185,195,205,225,240,250,265,285,300,310,320,335,350,360,375,380,395,400,410,415,420,425,430]],
[[100,140,155,165,170,175,180,183,185,190,195,205,215,230,235,255,260,265,270,275,280,285,290,295,300], 
[100,135,140,150,155,160,165,170,175,180,190,200,205,210,220,230,235,245,250,255,260,265,270,275,280], 
[100,140,145,155,160,165,170,175,180,190,200,210,215,220,230,240,255,258,263,270,277,282,285,290,295],
[100,140,185,195,205,225,240,250,265,285,300,310,320,335,350,360,375,380,395,400,410,415,420,425,430]],
[[100,140,155,165,170,175,180,183,185,190,195,205,215,230,235,255,260,265,270,275,280,285,290,295,300],
[100,140,170,180,190,200,210,220,225,230,235,240,245,250,260,270,280,290,300,310,320,325,330,335,340],
[100,150,190,200,210,230,260,270,280,290,305,320,340,360,370,380,390,395,400,405,410,415,420,425,430],
[100,155,185,195,205,225,240,250,265,285,300,310,320,335,350,360,375,380,395,400,410,415,420,425,430]]]

SetCurrent = [[[ 20, 30, 40, 60, 80, 95,110,125,130,140,150,160,165,175,185,200,205,215,230,240,250,260,270,280,290],
[ 20, 35, 60, 85,105,125,140,150,165,175,190,200,210,225,245,260,280,300,315,320,325,330,340,350,360],
[ 20, 40, 80,125,145,165,195,210,235,260,275,290,300,315,335,350,365,380,400,415,435,455,470,480,500],
[ 20, 50,140,180,210,265,315,340,355,385,420,445,460,480,500,520,540,560,580,600,620,640,650,670,680]],
[[ 20, 20, 30, 40, 55, 65, 80,105,112,120,125,135,145,150,157,165,175,185,200,210,220,230,236,242,250],
[ 20, 30, 40, 60, 85,106,125,145,165,175,190,200,210,225,245,260,270,280,290,300,310,320,330,340,350],
[ 20, 40, 90,130,160,190,210,240,265,280,300,320,335,350,360,370,380,390,415,440,440,450,460,470,480],
[ 20, 45,120,170,210,255,280,305,330,365,400,420,430,450,480,500,510,520,530,540,550,570,590,610,630]],
[[ 20, 30, 40, 60, 80, 95,110,125,130,140,150,160,165,175,180,195,205,215,230,240,250,260,270,280,290],
[ 10, 16, 24, 41, 55, 72, 89,107,125,142,160,175,189,204,218,229,241,252,263,284,325,345,360,380,390],
[ 10, 20, 35, 64, 88,111,132,155,178,200,225,250,265,280,300,320,347,373,400,410,420,430,440,450,460],
[ 20, 45,120,170,210,255,280,305,330,365,400,420,430,450,480,500,510,520,530,540,550,570,590,610,630]],
[[ 20, 30, 40, 60, 80, 95,110,125,130,140,150,160,165,175,180,195,205,215,230,240,250,260,270,280,290],
[ 10, 15, 24, 37, 50, 60, 70, 83, 95,107,118,130,142,155,167,182,196,210,225,234,243,251,260,270,280],
[ 20, 40, 30, 48, 65, 84,103,121,136,147,158,172,187,205,224,242,260,288,315,331,348,364,380,390,400],
[100,140,185,195,205,225,240,250,265,285,300,310,320,335,350,360,375,380,395,400,410,415,420,425,430]],
[[ 20, 30, 40, 60, 80, 95,110,125,130,140,150,160,165,175,180,195,205,215,230,240,250,260,270,280,290],
[ 20, 30, 35, 50, 65, 78, 90,104,110,120,135,153,170,185,200,215,237,248,260,270,290,300,320,335,350],
[ 20, 35, 60, 75,116,143,170,200,211,230,258,290,320,345,380,410,430,440,460,480,490,500,500,500,500],
[ 20,140,185,195,205,225,240,250,265,285,300,310,320,335,350,360,375,380,395,400,410,415,420,425,430]]]

# 假设已经有了三个三维列表 AUTOSetThickness, SetVoltage, SetCurrent
# 这里先简单初始化三个示例列表，实际使用时替换为真实数据
import random

# 焊接材料列表
welding_materials = ['Fe', 'Steel', 'Al-Si-5', 'Al-Mg-5', 'Cu-Si-3']
# 焊丝直径列表
wire_diameters = [0.8, 1.0, 1.2, 1.6]

# 初始化 data 列表
datas = []

# 遍历所有焊接材料
for i in range(len(welding_materials)):
    material = welding_materials[i]
    # 遍历所有焊丝直径
    for j in range(len(wire_diameters)):
        diameter = wire_diameters[j]
        # 遍历所有送丝速度（这里忽略送丝速度，只取对应的厚度、电压和电流）
        for k in range(25):
            thickness = AUTOSetThickness[i][j][k]
            voltage = SetVoltage[i][j][k]
            current = SetCurrent[i][j][k]
            # 将焊接材料、焊接厚度、电压、电流添加到 data 列表中
            datas.append([material, thickness, diameter, voltage, current])

import requests
import json
# API 的 URL
url = "http://127.0.0.1:8001/api/add_and_update"
for d in datas:
    # 请求体参数
    param = {
        "userID": "13",
        "method": "MIG",
        "material": d[0],
        "thickness": d[1],
        "diameter": d[2],
        "params": json.dumps({
            "Voltage guideline value": d[3],
            "Amperage guideline value": d[4]
        })
    }

    try:
        # 发送 POST 请求
        response = requests.post(url, params=param)

        # 检查响应状态码
        if response.status_code == 200:
            # 打印响应内容
            print("请求成功，响应内容如下：")
            print(response.json())
        else:
            print(f"请求失败，状态码: {response.status_code}")
            print(response.text)
    except requests.RequestException as e:
        print(f"请求发生错误: {e}")